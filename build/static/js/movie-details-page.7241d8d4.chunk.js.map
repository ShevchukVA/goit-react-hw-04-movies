{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","api/movieApi.js","components/Notification.js","components/Loader.js","views/Cast.js","views/Reviews.js","views/MovieDetailsPage.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","self","ReferenceError","_createSuper","Derived","result","Super","NewTarget","this","arguments","apply","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","keyApi","baseUrl","fetchMoviesApi","searchQuery","fetch","then","response","json","entries","results","fetchMovieDetails","movieId","fetchMovieDetailsCast","cast","fetchMovieDetailsReviews","propTypes","PropTypes","string","isRequired","fetchMovieTrending","Notification","message","defaultProps","massage","Spinner","type","color","height","width","Cast","state","casts","movieApi","match","params","setState","map","id","profile_path","className","styles","castImg","src","alt","name","character","Component","Reviews","reviews","review","author","content","MoviesDetailsPage","movie","error","loading","handleGoToBack","location","from","history","push","routes","moviesPage","finally","button","onClick","Loader","box","backdrop_path","title","boxImg","release_date","substr","Number","parseInt","popularity","overview","boxList","genres","genre","boxListItem","boxLine","info","to","pathname","url","path","component"],"mappings":"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","file":"static/js/movie-details-page.7241d8d4.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import PropTypes from 'prop-types';\r\n\r\nconst keyApi = '16329fa292eb0641dcc19ee9f479005f';\r\nconst baseUrl = 'https://api.themoviedb.org/3';\r\n\r\nconst fetchMovieTrending = () => {\r\n  return fetch(\r\n    `${baseUrl}/trending/movie/day?api_key=${keyApi}`,\r\n  ).then(response => response.json().then(entries => entries.results));\r\n};\r\n\r\nconst fetchMoviesApi = searchQuery => {\r\n  return fetch(`${baseUrl}/search/movie?query=${searchQuery}&api_key=${keyApi}`)\r\n    .then(response => response.json())\r\n    .then(entries => entries.results);\r\n};\r\n\r\nconst fetchMovieDetails = movieId => {\r\n  return fetch(`${baseUrl}/movie/${movieId}?api_key=${keyApi}`).then(response =>\r\n    response.json(),\r\n  );\r\n};\r\n\r\nconst fetchMovieDetailsCast = movieId => {\r\n  return fetch(`${baseUrl}/movie/${movieId}/credits?api_key=${keyApi}`)\r\n    .then(response => response.json())\r\n    .then(entries => entries.cast);\r\n};\r\n\r\nconst fetchMovieDetailsReviews = movieId => {\r\n  return fetch(`${baseUrl}/movie/${movieId}/reviews?api_key=${keyApi}`)\r\n    .then(response => response.json())\r\n    .then(entries => entries.results);\r\n};\r\n\r\nfetchMoviesApi.propTypes = {\r\n  searchQuery: PropTypes.string.isRequired,\r\n};\r\n\r\nfetchMovieDetails.propTypes = {\r\n  movieId: PropTypes.string.isRequired,\r\n};\r\n\r\nfetchMovieDetailsCast.propTypes = {\r\n  movieId: PropTypes.string.isRequired,\r\n};\r\n\r\nfetchMovieDetailsReviews.propTypes = {\r\n  movieId: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default {\r\n  fetchMoviesApi,\r\n  fetchMovieDetails,\r\n  fetchMovieTrending,\r\n  fetchMovieDetailsCast,\r\n  fetchMovieDetailsReviews,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Notification = message => {\r\n  return <div>{message}</div>;\r\n};\r\n\r\nNotification.defaultProps = {\r\n  massage: 'Whoops, something went wrong',\r\n};\r\n\r\nNotification.propTypes = {\r\n  massage: PropTypes.string,\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst Spinner = () => {\r\n  return <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />;\r\n};\r\n\r\nSpinner.defaultProps = {\r\n  type: 'Audio',\r\n  color: '000000',\r\n  height: 80,\r\n  width: 80,\r\n};\r\n\r\nSpinner.propTypes = {\r\n  type: PropTypes.string,\r\n  color: PropTypes.string,\r\n  height: PropTypes.number,\r\n  width: PropTypes.number,\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { Component } from 'react';\r\nimport movieApi from '../api/movieApi';\r\nimport styles from '../styles.module.css';\r\n\r\nexport default class Cast extends Component {\r\n  state = {\r\n    casts: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    movieApi\r\n      .fetchMovieDetailsCast(this.props.match.params.movieId)\r\n      .then(casts => this.setState({ casts }));\r\n  }\r\n\r\n  render() {\r\n    const { casts } = this.state;\r\n    casts.length = 10;\r\n    return (\r\n      <>\r\n        {casts.length === 0 && <p>We don't have casts for this movie</p>}\r\n        {casts.length > 0 && (\r\n          <ul>\r\n            {casts.map(cast => (\r\n              <li key={cast.id}>\r\n                {cast.profile_path && (\r\n                  <img\r\n                    className={styles.castImg}\r\n                    src={`https://image.tmdb.org/t/p/w500/${cast.profile_path}`}\r\n                    alt={cast.name}\r\n                  />\r\n                )}\r\n                <p>{cast.name}</p>\r\n                <p>Character: {cast.character}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport movieApi from '../api/movieApi';\r\nimport styles from '../styles.module.css';\r\n\r\nexport default class Reviews extends Component {\r\n  state = {\r\n    reviews: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    movieApi\r\n      .fetchMovieDetailsReviews(this.props.match.params.movieId)\r\n      .then(reviews => this.setState({ reviews }));\r\n  }\r\n\r\n  render() {\r\n    const { reviews } = this.state;\r\n    return (\r\n      <>\r\n        {reviews.length === 0 && (\r\n          <p>We don't have any reviews for this movie</p>\r\n        )}\r\n        {reviews.length > 0 && (\r\n          <ul>\r\n            {reviews.map(review => (\r\n              <li key={review.id}>\r\n                <p className={styles.author}>Author: {review.author}</p>\r\n                <p>{review.content}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link, Route } from 'react-router-dom';\r\nimport movieApi from '../api/movieApi';\r\nimport Cast from './Cast';\r\nimport Reviews from './Reviews';\r\nimport Notification from '../components/Notification';\r\nimport Loader from '../components/Loader';\r\nimport routes from '../routes';\r\nimport styles from '../styles.module.css';\r\n\r\nexport default class MoviesDetailsPage extends Component {\r\n  state = {\r\n    movie: null,\r\n    error: null,\r\n    loading: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    movieApi\r\n      .fetchMovieDetails(this.props.match.params.movieId)\r\n      .then(movie => this.setState({ movie }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  }\r\n\r\n  handleGoToBack = () => {\r\n    const { state } = this.props.location;\r\n\r\n    if (state && state.from) {\r\n      return this.props.history.push(state.from);\r\n    }\r\n    this.props.history.push(routes.moviesPage);\r\n  };\r\n\r\n  render() {\r\n    const { error, loading } = this.state;\r\n    return (\r\n      <>\r\n        <button\r\n          className={styles.button}\r\n          type=\"button\"\r\n          onClick={this.handleGoToBack}\r\n        >\r\n          to back\r\n        </button>\r\n        {error && (\r\n          <Notification\r\n            message={`Whoops, something went wrong: ${error.message}`}\r\n          />\r\n        )}\r\n        <div className={styles.loading}>{loading && <Loader />}</div>\r\n        {this.state.movie && (\r\n          <>\r\n            <div className={styles.box}>\r\n              {this.state.movie.backdrop_path && (\r\n                <img\r\n                  src={`https://image.tmdb.org/t/p/w500/${this.state.movie.backdrop_path}`}\r\n                  alt={this.state.movie.title}\r\n                  className={styles.boxImg}\r\n                />\r\n              )}\r\n              <div>\r\n                <h1>\r\n                  {this.state.movie.title || this.state.movie.name}(\r\n                  {this.state.movie.release_date.substr(0, 4)})\r\n                </h1>\r\n                <p>\r\n                  User Score: {Number.parseInt(this.state.movie.popularity)}%\r\n                </p>\r\n                <h2>Overview</h2>\r\n                <p>{this.state.movie.overview}</p>\r\n                <h3>Genres</h3>\r\n                <ul className={styles.boxList}>\r\n                  {this.state.movie.genres.map(genre => (\r\n                    <li className={styles.boxListItem} key={genre.id}>\r\n                      {genre.name}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <hr className={styles.boxLine} />\r\n            <div>\r\n              <h4 className={styles.info}>Additional information</h4>\r\n              <ul>\r\n                <li>\r\n                  <Link\r\n                    to={{\r\n                      pathname: `${this.props.match.url}/cast`,\r\n                      state: { from: this.props.location.state.from },\r\n                    }}\r\n                  >\r\n                    Cast\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link\r\n                    to={{\r\n                      pathname: `${this.props.match.url}/reviews`,\r\n                      state: { from: this.props.location.state.from },\r\n                    }}\r\n                  >\r\n                    Reviews\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n              <hr className={styles.boxLine} />\r\n              <Route path={`${this.props.match.path}/cast`} component={Cast} />\r\n              <Route\r\n                path={`${this.props.match.path}/reviews`}\r\n                component={Reviews}\r\n              />\r\n            </div>\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}