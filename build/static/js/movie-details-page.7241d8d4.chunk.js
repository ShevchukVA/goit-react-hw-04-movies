(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[2],{49:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return a}))},50:function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"a",(function(){return r}))},51:function(t,e,n){"use strict";function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return function(){var e,n=a(t);if(r()){var o=a(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return c(this,e)}}n.d(e,"a",(function(){return i}))},52:function(t,e,n){"use strict";function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}n.d(e,"a",(function(){return r}))},53:function(t,e,n){"use strict";var a=n(1),r=n.n(a),o="16329fa292eb0641dcc19ee9f479005f",c="https://api.themoviedb.org/3",i=function(t){return fetch("".concat(c,"/search/movie?query=").concat(t,"&api_key=").concat(o)).then((function(t){return t.json()})).then((function(t){return t.results}))},s=function(t){return fetch("".concat(c,"/movie/").concat(t,"?api_key=").concat(o)).then((function(t){return t.json()}))},u=function(t){return fetch("".concat(c,"/movie/").concat(t,"/credits?api_key=").concat(o)).then((function(t){return t.json()})).then((function(t){return t.cast}))},l=function(t){return fetch("".concat(c,"/movie/").concat(t,"/reviews?api_key=").concat(o)).then((function(t){return t.json()})).then((function(t){return t.results}))};i.propTypes={searchQuery:r.a.string.isRequired},s.propTypes={movieId:r.a.string.isRequired},u.propTypes={movieId:r.a.string.isRequired},l.propTypes={movieId:r.a.string.isRequired},e.a={fetchMoviesApi:i,fetchMovieDetails:s,fetchMovieTrending:function(){return fetch("".concat(c,"/trending/movie/day?api_key=").concat(o)).then((function(t){return t.json().then((function(t){return t.results}))}))},fetchMovieDetailsCast:u,fetchMovieDetailsReviews:l}},54:function(t,e,n){"use strict";var a=n(0),r=n.n(a),o=function(t){return r.a.createElement("div",null,t)};o.defaultProps={massage:"Whoops, something went wrong"},e.a=o},55:function(t,e,n){"use strict";var a=n(0),r=n.n(a),o=n(14),c=n.n(o),i=(n(56),function(){return r.a.createElement(c.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100})});i.defaultProps={type:"Audio",color:"000000",height:80,width:80},e.a=i},56:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return g}));var a=n(49),r=n(50),o=n(52),c=n(51),i=n(0),s=n.n(i),u=n(10),l=n(2),m=n(53),f=n(7),p=n.n(f),h=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={casts:[]},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;m.a.fetchMovieDetailsCast(this.props.match.params.movieId).then((function(e){return t.setState({casts:e})}))}},{key:"render",value:function(){var t=this.state.casts;return t.length=10,s.a.createElement(s.a.Fragment,null,0===t.length&&s.a.createElement("p",null,"We don't have casts for this movie"),t.length>0&&s.a.createElement("ul",null,t.map((function(t){return s.a.createElement("li",{key:t.id},t.profile_path&&s.a.createElement("img",{className:p.a.castImg,src:"https://image.tmdb.org/t/p/w500/".concat(t.profile_path),alt:t.name}),s.a.createElement("p",null,t.name),s.a.createElement("p",null,"Character: ",t.character))}))))}}]),n}(i.Component),v=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={reviews:[]},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;m.a.fetchMovieDetailsReviews(this.props.match.params.movieId).then((function(e){return t.setState({reviews:e})}))}},{key:"render",value:function(){var t=this.state.reviews;return s.a.createElement(s.a.Fragment,null,0===t.length&&s.a.createElement("p",null,"We don't have any reviews for this movie"),t.length>0&&s.a.createElement("ul",null,t.map((function(t){return s.a.createElement("li",{key:t.id},s.a.createElement("p",{className:p.a.author},"Author: ",t.author),s.a.createElement("p",null,t.content))}))))}}]),n}(i.Component),y=n(54),d=n(55),b=n(8),g=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={movie:null,error:null,loading:!1},t.handleGoToBack=function(){var e=t.props.location.state;if(e&&e.from)return t.props.history.push(e.from);t.props.history.push(b.a.moviesPage)},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),m.a.fetchMovieDetails(this.props.match.params.movieId).then((function(e){return t.setState({movie:e})})).finally((function(){return t.setState({loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.error,n=t.loading;return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:p.a.button,type:"button",onClick:this.handleGoToBack},"to back"),e&&s.a.createElement(y.a,{message:"Whoops, something went wrong: ".concat(e.message)}),s.a.createElement("div",{className:p.a.loading},n&&s.a.createElement(d.a,null)),this.state.movie&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:p.a.box},this.state.movie.backdrop_path&&s.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(this.state.movie.backdrop_path),alt:this.state.movie.title,className:p.a.boxImg}),s.a.createElement("div",null,s.a.createElement("h1",null,this.state.movie.title||this.state.movie.name,"(",this.state.movie.release_date.substr(0,4),")"),s.a.createElement("p",null,"User Score: ",Number.parseInt(this.state.movie.popularity),"%"),s.a.createElement("h2",null,"Overview"),s.a.createElement("p",null,this.state.movie.overview),s.a.createElement("h3",null,"Genres"),s.a.createElement("ul",{className:p.a.boxList},this.state.movie.genres.map((function(t){return s.a.createElement("li",{className:p.a.boxListItem,key:t.id},t.name)}))))),s.a.createElement("hr",{className:p.a.boxLine}),s.a.createElement("div",null,s.a.createElement("h4",{className:p.a.info},"Additional information"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(u.b,{to:{pathname:"".concat(this.props.match.url,"/cast"),state:{from:this.props.location.state.from}}},"Cast")),s.a.createElement("li",null,s.a.createElement(u.b,{to:{pathname:"".concat(this.props.match.url,"/reviews"),state:{from:this.props.location.state.from}}},"Reviews"))),s.a.createElement("hr",{className:p.a.boxLine}),s.a.createElement(l.a,{path:"".concat(this.props.match.path,"/cast"),component:h}),s.a.createElement(l.a,{path:"".concat(this.props.match.path,"/reviews"),component:v}))))}}]),n}(i.Component)}}]);
//# sourceMappingURL=movie-details-page.7241d8d4.chunk.js.map